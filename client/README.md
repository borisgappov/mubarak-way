# MubarakWay Client

Клиентское приложение для платформы духовных практик MubarakWay. React-приложение, созданное с помощью Vite, предоставляющее интерфейс для работы с духовными целями, дуа, именами Аллаха и статистикой.

## Описание

MubarakWay Client - это веб-приложение, которое позволяет пользователям:
- Управлять духовными целями (создание, редактирование, отслеживание прогресса)
- Просматривать и изучать дуа (молитвы)
- Изучать 99 имен Аллаха
- Просматривать статистику духовной активности

## Технологии

- **React 18** - библиотека для создания пользовательских интерфейсов
- **TypeScript** - типизированный JavaScript для повышения надежности кода
- **Vite** - быстрый инструмент сборки и разработки
- **React Router DOM** - маршрутизация в одностраничном приложении
- **Axios** - HTTP-клиент для работы с API
- **OpenAPI Generator** - автоматическая генерация API-клиента из OpenAPI спецификации
- **ESLint** - линтер для проверки качества кода

## Структура проекта

```
src/
├── api/              # Конфигурация API клиентов
│   └── client.ts     # Настройка и экспорт API клиентов
├── components/       # React компоненты
│   ├── Goals.tsx     # Компонент управления целями
│   ├── Duas.tsx      # Компонент для работы с дуа
│   ├── AllahNames.tsx # Компонент для изучения имен Аллаха
│   └── Statistics.tsx # Компонент статистики
├── generated/        # Автоматически сгенерированный API клиент
│   ├── apis/         # API классы для различных эндпоинтов
│   ├── models/       # TypeScript модели данных
│   └── runtime.ts    # Runtime утилиты для API клиента
├── App.tsx           # Главный компонент приложения
└── main.tsx          # Точка входа приложения
```

## Установка

Установите зависимости:

```bash
npm install
```

## Настройка

Приложение по умолчанию подключается к бэкенду на `http://localhost:3000`. 

Для изменения базового URL и токена авторизации отредактируйте файл `src/api/client.ts`:

```typescript
const BASE_URL = 'http://localhost:3000';
const TEST_TOKEN = 'test_token_123';
```

## Генерация API клиента

API клиент автоматически генерируется из OpenAPI спецификации бэкенда. Для генерации выполните:

```bash
npm run generate:api
```

Скрипт:
1. Скачивает OpenAPI спецификацию с `https://bot.e-replika.ru/openapi.json`
2. Нормализует теги (заменяет кириллические на латинские)
3. Фильтрует спецификацию (удаляет эндпоинты text-analysis)
4. Генерирует TypeScript клиент в папку `src/generated/`

## Разработка

Запустите сервер разработки:

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

**Важно:** Убедитесь, что бэкенд-сервер запущен на `http://localhost:3000` для корректной работы приложения.

## Сборка

Для создания production-сборки:

```bash
npm run build
```

Собранные файлы будут находиться в папке `dist`.

## Предпросмотр сборки

Для предпросмотра production-сборки:

```bash
npm run preview
```

## Линтинг

Для проверки кода линтером:

```bash
npm run lint
```

## Доступные маршруты

- `/` или `/goals` - Управление духовными целями
- `/duas` - Просмотр и изучение дуа
- `/allah-names` - Изучение 99 имен Аллаха
- `/statistics` - Статистика духовной активности

## API

Приложение использует REST API бэкенда. Основные доступные API:

- **GoalsApi** - Управление целями
- **DuasApi** - Работа с дуа
- **AllahNamesApi** - Получение имен Аллаха
- **StatisticsApi** - Статистика (кастомная реализация)
- **NotesApi** - Заметки к целям (кастомная реализация)

Полный список доступных API можно найти в папке `src/generated/apis/`.

## Требования

- Node.js (версия 18 или выше)
- npm или yarn
- Запущенный бэкенд-сервер на `http://localhost:3000` (для разработки)

